<div class="container">
  <div class="w-75 mx-auto mt-4">
    <div *ngIf="errMessage" class="p-0 m-0 alert alert-danger">
      <p class="m-0 ps-3">Invalid login</p>
    </div>

    <h1>Login</h1>
    <form [formGroup]="loginForm" (ngSubmit)="login(loginForm)">
      <div class="form-group">
        <label for="email">Email</label>
        <input
          formControlName="email"
          id="email"
          class="form-control"
          type="email"
        />
        <div
          *ngIf="
            loginForm.get('email')?.getError('required') &&
            loginForm.get('email')?.touched
          "
          class="p-0 m-0 alert alert-danger"
        >
          <p class="m-0 ps-3">Email is required</p>
        </div>
        <div
          *ngIf="
            loginForm.get('email')?.getError('email') &&
            loginForm.get('email')?.touched
          "
          class="p-0 m-0 alert alert-danger"
        >
          <p class="m-0 ps-3">Email is not valid</p>
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input
          formControlName="password"
          id="password"
          class="form-control"
          type="password"
        />

        <div
          *ngIf="
            loginForm.get('password')?.getError('required') &&
            loginForm.get('password')?.touched
          "
          class="p-0 m-0 alert alert-danger"
        >
          <p class="m-0 ps-3">Password is required</p>
        </div>
        <div
          *ngIf="
            loginForm.get('password')?.getError('minlength') &&
            loginForm.get('password')?.touched
          "
          class="p-0 m-0 alert alert-danger"
        >
          <p class="m-0 ps-3">Min length of password is 6</p>
        </div>
      </div>
      <button class="btn btn-success mt-2" [disabled]="loginForm.invalid">
        <i *ngIf="isLoading" class="fa-solid fa-circle-notch fa-spin"></i>
        <span *ngIf="!isLoading">Login</span>
      </button>
    </form>
  </div>
</div>
